{
    "name":"Follow the wall",
    "type":"Sequencer",
    "children":[
      {
        "name":"Calculate the angle to the nearest wall",
        "type":"CalcNearestWallAngle",
        "scan_var_name":"/scan",
        "angle_var_name":"nearest_wall_angle"
      },
      {
        "name":"Calculate the nearest distance",
        "type":"CalcNearestDist",
        "scan_var_name":"/scan",
        "dist_var_name":"nearest_dist"
      },
      {
        "name":"Calculate the average distance in front",
        "type":"CalcAvgFrontDist",
        "scan_var_name":"/scan",
        "dist_var_name":"avg_front_dist",
        "fov":30
      },
      {
        "name":"Calculate angular velocity necessary to be parallel to the wall",
        "type":"AngularPID",
        "pid_err_var_name":"angular_pid",
        "nearest_dist_var_name":"nearest_dist",
        "nearest_angle_var_name":"nearest_wall_angle",
        "kp":0.7,
        "kd":0.7,
        "kp2":0.8,
        "dwall":0.09,
        "offset":1.57079
      },
      {
        "name":"Calculate linear velocity necessary to avoid collision",
        "type":"LinearPID",
        "linear_pid_var_name":"linear_pid",
        "diff_var_name":"avg_front_dist",
        "max_vel":0.1,
        "offset":0.05
      },
      {
        "name":"Move according to PID calculations",
        "type":"LinearAngularDynamic",
        "linear_var_name":"linear_pid",
        "angular_var_name":"angular_pid"
      }
    ]
  }